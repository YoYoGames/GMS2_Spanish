<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>mp_grid_add_cell</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/movement and collisions/motion planning/mp_grid_add_cell.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fmovement%20and%20collisions%2Fmotion%20planning%2Fmp_grid_add_cell.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fmovement%20and%20collisions%2Fmotion%20planning%2Fmp_grid_add_cell.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> mp_grid_add_cell </h2><div class="body-scroll"><h3 class="studio"> Sintaxis: </h3><p class="code">mp_grid_add_cell(id, h, v);<span class="notranslate"></span></p><p><br></p><div class="param"><table><tr><th> Argumento </th><th> Descripción </th></tr><tr><td> <span class="notranslate">id</span> </td> <td> Índice del mp_grid que se va a utilizar </td></tr><tr class="alt"><td> <span class="notranslate">h</span> </td> <td> Posición horizontal de la celda en la grilla </td></tr><tr><td> <span class="notranslate">v</span> </td> <td> Posición vertical de la celda en la grilla </td></tr></table></div><p><br></p><p> <b>Devoluciones:</b> N / A </p><p><br></p><h3 class="studio"> Descripción </h3><p> Con esta función, podemos marcar celdas individuales dentro de mp_grid como &quot;prohibidas&quot;, lo que significa que las funciones de búsqueda de rutas nunca las cruzarán. Ahora, normalmente trabajas en coordenadas de <i>habitación</i> x / y, y no en coordenadas de <i>celda</i> mp_grid. Así que consideremos la siguiente imagen que muestra cómo se pueden correlacionar los dos: <br><br><img class="center" src="images/mp_grid_add_cell_image.png"></p><p> Como puede ver, mp_grid está numerado como una serie de celdas (comenzando en 0,0 en la esquina superior izquierda), y cuando coloca esta cuadrícula sobre la sala, hay una correlación directa entre las coordenadas de la sala (que también comienzan en 0, 0 en la esquina superior izquierda) y las celdas dentro de la cuadrícula. En la imagen, puede ver que una instancia en la posición 260,130 cae en la celda de la cuadrícula 8,4. Puede calcular matemáticamente la celda exacta en la que una posición cae fácilmente dividiendo el número por la resolución de la cuadrícula y luego redondeando hacia abajo <i>o</i> (si está utilizando una potencia de 2 resoluciones de cuadrícula como 8, 16, 32, etc.) puede usa los operadores bit a bit Cabe señalar que la operación a nivel de bit es más rápida. El ejemplo a continuación muestra ambos métodos. <br><br></p><p><br></p><h3 class="studio"> Ejemplo: </h3><p class="code">with (obj_Wall)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;mp_grid_add_cell(grid, floor(x / 32), floor(y /
32));<br>
&nbsp;&nbsp;&nbsp;}<br>
with (obj_Door)<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;mp_grid_add_cell(grid, x&gt;&gt;5,
y&gt;&gt;5);<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><p> El código anterior hará que todos los &quot;obj_Wall&quot; y todos obj_Door agreguen sus posiciones de celda equivalentes en el mp_grid indexado en la variable &quot;grid&quot;. En la primera parte del ejemplo, esto se hace tomando las coordenadas x / y del objeto y dividiéndolos por la resolución de la cuadrícula (usando <tt>floor</tt> para mantener los valores como enteros), y en la segunda parte (dado que la resolución de la cuadrícula es una potencia de 2) se realiza desplazando el bit de las coordenadas x, y 5 lugares hacia la derecha. </p><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Atrás: <a href="index.html">planificación de movimiento</a> </div><div style="float:right"> Siguiente: <a href=
"mp_grid_add_instances.html">mp_grid_add_instances</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

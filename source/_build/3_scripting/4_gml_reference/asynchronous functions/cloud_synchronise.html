<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>cloud_synchronise</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">
<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/4_gml_reference/asynchronous functions/cloud_synchronise.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fasynchronous%20functions%2Fcloud_synchronise.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F4_gml_reference%2Fasynchronous%20functions%2Fcloud_synchronise.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> cloud_synchronise </h2><div class="body-scroll"><p><br></p><h3> Descripción </h3><blockquote><p> Esta función normalmente se llamaría al inicio de un nuevo juego y se usa para recuperar el estado actual del servicio en la nube al inicio del juego. La función devuelve un valor único de <b>identificación</b> que luego se usaría en el <a href=
"../../../2_interface/1_editors/events/async_events.html">Evento Asincrónico</a> en la <a href=
"../../../2_interface/1_editors/events/async_events.html">Nube</a> para recuperar la información relevante del ds_map que se creó. </p><p> Esta función se enviará a la nube en busca de datos, que luego activarán el evento asincrónico apropiado. En este caso, puede verificar el resultado <tt>async_load</tt> <a href=
"../../../3_scripting/4_gml_reference/data_structures/ds%20maps/index.html">ds_map</a> para los siguientes valores: </p><blockquote><ul><li> <b>&quot;estado&quot;:</b> contiene el código de estado, donde un valor negativo denota un error, cuya descripción se incluirá en &quot;errorString&quot;. Un valor de 0 (o un valor positivo) indica un éxito (ver a continuación los valores exactos), y &quot;resultString&quot; contendrá los datos devueltos o un mensaje de éxito. </li><li style="list-style: none"><br></li><li> <b>&quot;id&quot;:</b> Id. que se devolvió de la función llamada. Si disparas una serie de <tt>cloud_</tt> Luego, debe saber a cuál le está respondiendo y, por lo tanto, debe usar este valor para compararlo con el valor que guardó cuando envió originalmente la solicitud para encontrar el correcto. </li><li style="list-style: none"><br></li><li> <b>&quot;descripción&quot;:</b> la descripción del último archivo cargado. </li><li style="list-style: none"><br></li><li> <b>&quot;resultString&quot;:</b> Esto contiene una cadena que es el blob de datos devuelto por la nube. </li><li style="list-style: none"><br></li><li> <b>&quot;errorString&quot;:</b> devuelve una cadena de error para cualquier error. </li></ul></blockquote><p> El significado exacto de la entrada del mapa &quot;estado&quot; devuelto se explica en la siguiente tabla: </p><div class="compat"><table class="compat"><tr><th> Valor de estado </th><th> errorString / resultString </th><th> Descripción </th></tr><tr><td> <span class="notranslate">-1</span> </td> <td> errorString = &quot;No ha iniciado sesión en &lt;SERVICE&gt;&quot; </td><td> <span class="notranslate">You have not successfully logged in to the given Cloud Service</span> </td> </tr><tr class="alt"><td> <span class="notranslate">0</span> </td> <td> resultString = datos recuperados </td><td> <span class="notranslate">New game data downloaded from the cloud (following a cloud_synchronise call)</span> </td> </tr><tr><td> <span class="notranslate">1</span> </td> <td> resultString = &quot;Ya sincronizado&quot; </td><td> <span class="notranslate">No new data since you last called cloud_synchronise</span> </td> </tr><tr class="alt"><td> <span class="notranslate">2</span> </td> <td> resultString = &quot;ConflictDeferral&quot; </td><td> <span class="notranslate">A conflict was encountered, but the gamer chose to ignore it</span> </td> </tr><tr><td> <span class="notranslate">3</span> </td> <td> resultString = &quot;GameUploadSuccess&quot; </td><td> <span class="notranslate">data from <a href=
"cloud_string_save.html"><tt>cloud_string_save</tt></a> or <a href=
"cloud_file_save.html"><tt>cloud_file_save</tt></a> was successfully uploaded to the cloud</span> </td> </tr><tr class="alt"><td> <span class="notranslate">-n</span> </td> <td> errorString = Descripción del error </td><td> <span class="notranslate">Any other negative number means a synchronisation failure</span> </td> </tr></table></div></blockquote><p><br></p><h3> Sintaxis: </h3><p class="code">cloud_synchronise();<span class="notranslate"></span></p><p><br></p><h3> Devoluciones: </h3><p class="code">Real<span class="notranslate"></span></p><p><br></p><h3> Ejemplo extendido: </h3><blockquote><p> Esta función se llamaría en un evento como el <a href=
"../../../2_interface/1_editors/events/index.html">Evento de Inicio de Juego</a> o en un objeto que se coloca en la primera sala de tu juego, con la idea de que verifiques el blob de datos actual desde el servidor de la nube para ver si está disponible. fecha o no. </p></blockquote><p class="code">cloud_check = cloud_synchronise();<span class="notranslate"></span></p><blockquote><p> Entonces, querrás comprobar el resultado <tt>ds_map</tt> en el <b>Evento de Cloud</b> asíncrono para obtener el estado y la cadena devuelta, si la hay, con algo como el siguiente código: </p></blockquote><p class="code">if ds_map_find_value(async_load, "id") ==
cloud_check<br>
&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;if ds_map_find_value(async_load, "status") &lt;
0<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;show_message_async("Cloud
Services not available. Please check connectivity.");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if
ds_map_find_value(async_load, "status") == 0<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var file =
file_text_open_write("Save.txt");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_text_write_string(file,
ds_map_find_value(async_load, "resultString"));<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_text_close(file);<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><blockquote><p> El código anterior comprueba para asegurarse de que la llamada de función asíncrona correcta se está revisando, luego continúa para obtener el estado de la nube devuelta ds_map. si el estado es un número negativo, algo ha salido mal y se informa al usuario; de lo contrario, el código continuará y recuperará los datos sincronizados y los escribirá en un archivo de texto para usarlos posteriormente. </p></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Atrás: <a href="index.html">Funciones asíncronas</a> </div><div style="float:right"> Siguiente: <a href=
"cloud_string_save.html">cloud_string_save</a> </div></div></div><h5> © Copyright <span class="notranslate">YoYo Games Ltd.</span> 2017 Todos los derechos reservados </h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>

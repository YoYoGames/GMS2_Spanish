<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>The Gesture Events</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/2_interface/1_editors/events/gesture_events.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F2_interface%2F1_editors%2Fevents%2Fgesture_events.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F2_interface%2F1_editors%2Fevents%2Fgesture_events.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! --><script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script><h2> Los eventos gestuales </h2><div class="body-scroll"><p><br></p><img class="center" src="images/editor_objects_gesture.png" alt="Editor de objetos gestos de eventos"><p> Los eventos en la categoría <b>Evento de gestos</b> se activarán cada vez que <i><span class="notranslate">GameMaker Studio 2</span></i> detecte un &quot;gesto&quot; del mouse o un evento de pantalla táctil (aunque estos eventos de gestos están diseñados específicamente para uso móvil, también se pueden usar en otros objetivos para detectar el mouse)., aunque en este caso no detectarán múltiples toques). El objetivo del sistema de gestos es probar y reconocer las entradas a un nivel más alto que las funciones de lectura directa del mouse / toque, y está diseñado para simplificar la implementación de las entradas de uso común en dispositivos táctiles. </p><div class="note"> <b>NOTA:</b> Estos eventos <b>no se activarán en la</b> plataforma <b>HTML5</b>. Si está buscando gestos en ese objetivo, entonces debería estar usando las <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/index.html">funciones del dispositivo</a>. </div><p><br> Puede elegir detectar gestos de <b>instancia</b> o gestos <b>globales</b>, donde los eventos de gestos de instancia solo se activarán cuando el toque / clic inicial esté en una instancia dentro de la sala. Tenga en cuenta que la instancia <i>debe</i> tener una máscara de colisión válida (para obtener más detalles, consulte <a href="../../1_editors/sprites.html">El Editor de Sprite - Máscara de colisión</a> y <a href="../../1_editors/objects.html">El Editor de objetos - Máscara de colisión</a> para obtener más detalles) para que se active este evento. Los eventos globales, sin embargo, se activarán al tocar / hacer clic en cualquier lugar dentro de la sala de juegos y para todas las instancias que tengan el evento. </p><p> Cuando se reconoce un evento de gesto, activará uno o más de los subeventos disponibles, y el subevento activado dependerá del tipo de gesto que se haya detectado. Sin embargo, en todos los casos, se generará un <a href=
"../../../3_scripting/4_gml_reference/data_structures/ds%20maps/index.html">Mapa DS</a> para usted y se almacenará en la variable incorporada. <tt><b>event_data</b></tt>. Las claves disponibles dependerán del tipo de evento que haya creado y se muestran en cada una de las subsecciones siguientes. </p><div class="note"> <b>NOTA:</b> La variable <tt>event_data</tt> <b>Sólo</b> es <b>válido en estos eventos</b>, ya que el <tt>ds_map</tt> el punto al que se apunta se crea automáticamente al comienzo del evento, luego se destruye de nuevo al final, y esta variable se restablece a un valor de -1 en todos los demás momentos. </div><p><br> Vale la pena señalar que si tiene varias instancias bajo la posición que se está tocando y todas tienen un evento de gestos, entonces todas se activarán, no solo la instancia &quot;superior&quot;. También tenga en cuenta que cuando utilice varias vistas y arrastre una instancia, los valores devueltos se basarán en la vista en la que se encontraba cuando se recibió el toque / clic inicial; esto es cierto para todos los eventos posteriores en ese gesto para esa instancia. Entonces, al tocar y arrastrar una instancia en una vista y luego soltar el toque en otra vista, se devolverán los valores relativos a la vista inicial donde se detectó el gesto por primera vez. </p><p><br></p><blockquote><a name="Gesture_Event_Single" id=
"Gesture_Event_Single"></a><div style="float:left"><img style=
"vertical-align:middle;padding-top:6px;padding-left:10px;" src=
"images/icon_tap.png"></div> <label class="collapse" for="one">Grifo, <img style=
"vertical-align:middle;padding-top:0px;padding-left:5px;" src=
"images/icon_drag.png"> Arrastrar y <img style=
"vertical-align:middle;padding-top:0px;padding-left:5px;" src=
"images/icon_flick.png"> Eventos de película</label> <input id="one" type=
"checkbox"><div class="index_list"><p> Los eventos &quot;Tap&quot;, &quot;Drag&quot; y &quot;Flick&quot; se basan en un solo toque o clic del mouse en la pantalla y el <tt>event_data</tt> DS Map contendrá las siguientes claves: </p><div class="compat"><table><tr><th> Llave </th><th> Descripción del valor </th></tr><tr><td> <span class="notranslate">&quot;gesture&quot;</span> </td> <td><br> Este es un valor de ID que es <i>único</i> para el gesto que está en juego. Esto le permite vincular las diferentes partes de los gestos de varias partes (como el inicio del arrastre, el arrastre y el final del arrastre) juntos. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;touch&quot;</span> </td> <td><br> Este es el índice del toque que se está utilizando para el gesto. En general, esto comenzará en 0 y aumentará para cada dedo que se mantenga presionado, luego se restablecerá a 0 cuando se eliminen todos los dedos, pero si el usuario está tocando la pantalla en cualquier otro lugar cuando este evento se activa con otro toque, entonces el valor será mayor que 0. <br><br></td></tr><tr><td> <span class="notranslate">&quot;posX&quot;</span> </td> <td><br> Esta es la posición X del espacio de la habitación del tacto. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;posY&quot;</span> </td> <td><br> Esta es la posición Y del espacio de la habitación del tacto. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;rawposX&quot;</span> </td> <td><br> Esta es la posición X ventana-espacio <i>prima</i> de tacto (equivalente a obtener la posición del ratón usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_raw_x.html"><tt>device_mouse_raw_x()</tt></a> ). <br><br></td></tr><tr><td> <span class="notranslate">&quot;rawposY&quot;</span> </td> <td><br> Esta es la posición Y del espacio de la ventana sin <i>procesar</i> del toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_raw_y.html"><tt>device_mouse_raw_y()</tt></a> ). <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;guiposX&quot;</span> </td> <td><br> Esta es la posición de gui-espacio X del toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_x_to_gui.html"><tt>device_mouse_x_to_gui()</tt></a> ). <br><br></td></tr><tr><td> <span class="notranslate">&quot;guiposY&quot;</span> </td> <td><br> Esta es la posición Y gui-space del toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_y_to_gui.html"><tt>device_mouse_y_to_gui()</tt></a> ). <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;diffX&quot;</span> </td> <td><br> Esta es la diferencia X en el espacio de la habitación entre la posición del toque actual y la posición del último toque en este gesto. <br><br></td></tr><tr><td> <span class="notranslate">&quot;diffY&quot;</span> </td> <td><br> Esta es la diferencia Y de espacio de la habitación entre la posición del toque actual y la posición del último toque en este gesto. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;rawdiffX&quot;</span> </td> <td><br> Esta es la diferencia en bruto de X entre la posición del toque actual y la posición del último toque en este gesto. <br><br></td></tr><tr><td> <span class="notranslate">&quot;rawdiffY&quot;</span> </td> <td><br> Esta es la diferencia Y en bruto entre la posición del toque actual y la posición del último toque en este gesto. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;guidiffX&quot;</span> </td> <td><br> Esta es la diferencia de gui-espacio X entre la posición del toque actual y la posición del último toque en este gesto. <br><br></td></tr><tr><td> <span class="notranslate">&quot;guidiffY&quot;</span> </td> <td><br> Esta es la diferencia Y de gui-espacio entre la posición del toque actual y la posición del último toque en este gesto. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;viewstartposX&quot;</span> </td> <td><br> Esta es la posición inicial de la sala X del gesto actual. <br><br></td></tr><tr><td> <span class="notranslate">&quot;viewstartposY&quot;</span> </td> <td><br> Esta es la posición de inicio de la sala Y del gesto actual. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;rawstartposX&quot;</span> </td> <td><br> Esta es la posición inicial de X sin procesar del gesto actual. <br><br></td></tr><tr><td> <span class="notranslate">&quot;rawstartposY&quot;</span> </td> <td><br> Esta es la posición inicial de Y en bruto del gesto actual. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;guistartposX&quot;</span> </td> <td><br> Esta es la posición inicial de gui-espacio X del gesto actual. <br><br></td></tr><tr><td> <span class="notranslate">&quot;guistartposY&quot;</span> </td> <td><br> Esta es la posición inicial de gui-espacio Y del gesto actual. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;isflick&quot;</span> </td> <td><br> <b>Solo disponible en el evento Drag End</b>. Se establece en 1 si el final del arrastre se detecta como una película, lo que significa que no necesita un <b>Evento de película</b> separado si está manejando el arrastre de todos modos. <br><br></td></tr></table></div><blockquote><a name="gesture_tap" id="gesture_tap"></a> <label class="collapse" for="a">Grifo</label> <input id="a" type=
"checkbox"><div class="index_list"><p> El evento <b>Tap</b> se activará cuando se toque o haga clic en una instancia o, si se trata de un evento global, cuando el juego registre un toque o haga clic en cualquier lugar de la sala. Un toque se considera un toque rápido y una liberación, y si el toque dura demasiado tiempo, se considerará un arrastre (y desencadena los eventos de gestos de arrastre en lugar del evento de toque). Este evento generará un <tt>event_data</tt> Mapa de DS que puede utilizar para obtener información sobre el evento. Por ejemplo: </p><h3> Crear evento </h3><p class="code">x_goto = x;<br>
y_goto = y;<br><span class="notranslate"></span></p><h3> Evento de tap </h3><p class="code">x_goto = event_data[? "posX"];<br>
y_goto = event_data[? "posY"];<br><span class="notranslate"></span></p><h3> Evento paso </h3><p class="code">var _pd = point_distance(x, y, x_goto, y_goto);<br>
move_towards_point(x_goto, y_goto, clamp(_pd, 0, 5);<br><span class="notranslate"></span></p><p><br> El código anterior detectará un toque en la pantalla y luego obtendrá la posición del toque para mover la instancia a esa posición. Tenga en cuenta que si desea tener un tiempo de detección de tap más largo o más corto, puede configurarlo con la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_drag_time.html"><tt>gesture_drag_time</tt></a>. Esto establece el tiempo entre la detección inicial y el toque de arrastre, así que configúrelo en un valor más alto para que la detección de toque sea más larga o un valor más bajo para hacerlo más corto (el valor está en segundos y el valor predeterminado es 0.16). </p></div><br><a name="gesture_double_tap" id="gesture_double_tap"></a> <label class="collapse" for="b">Doble toque</label> <input id="b"
type="checkbox"><div class="index_list"><p> El evento <b>Double Tap</b> se activará cuando se toque o haga clic en una instancia dos veces en una sucesión rápida (o, si se trata de un evento global, cuando el juego registra dos toques rápidos o clics en cualquier lugar de la sala). Un toque doble se considera dos toques y lanzamientos rápidos, pero si alguno de los toques dura demasiado tiempo, se considerará un arrastre (y desencadena los eventos de gestos de arrastre en lugar del evento de doble toque). Este evento generará un <tt>event_data</tt> Mapa de DS que puede utilizar para obtener información sobre el evento. Por ejemplo: </p><h3> Crear evento </h3><p class="code">x_goto = x;<br>
y_goto = y;<br><span class="notranslate"></span></p><h3> Evento de doble toque </h3><p class="code">instance_destroy();<br><span class="notranslate"></span></p><p><br> El código anterior simplemente detecta un doble toque y luego destruye la instancia. Tenga en cuenta que puede configurar el tiempo entre los toques para activar un toque doble con la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_double_tap_time.html"><tt>gesture_double_tap_time</tt></a> (que tiene un valor predeterminado, en segundos, de 0.16) y también puede establecer la distancia para la detección entre toques con la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_double_tap_distance.html"><tt>gesture_double_tap_distance</tt></a> (Si se detecta un segundo toque fuera de esta distancia, se considerará un evento de toque regular). </p></div><br><a name="gesture_drag_start" id="gesture_drag_start"></a> <label class="collapse" for="c">Arrastrar Inicio</label> <input id="c"
type="checkbox"><div class="index_list"><p> El evento <b>Drag Start</b> se activará cuando el usuario mantenga un toque o haga clic sin soltarlo. Se activará una vez cuando haya transcurrido un tiempo establecido después del toque inicial, que es de 0.16 segundos de manera predeterminada (aunque puede configurarlo en cualquier otro valor en segundos usando la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_drag_time.html"><tt>gesture_drag_time</tt></a> ). Después de que se haya activado este evento, y mientras el usuario mantenga presionado un toque / clic, el evento de <b>arrastre</b> se activará en cada paso hasta que se libere el toque / clic. Este evento generará un <tt>event_data</tt> Mapa de DS que puede utilizar para obtener información sobre el evento. Por ejemplo: </p><h3> Crear evento </h3><p class="code">drag_offsetX = 0;<br>
drag_offsetY = 0;<br><span class="notranslate"></span></p><h3> Evento de inicio de arrastre </h3><p class="code">drag_offsetX = x - event_data[?"posX"];<br>
drag_offsetY = y - event_data[?"posY"];<br><span class="notranslate"></span></p><p><br> El código anterior utiliza el evento Drag Start para obtener la posición del toque / clic y usarlo para establecer un valor de desplazamiento para los ejes x e y. Esto se puede usar al arrastrar la instancia para asegurarse de que no &quot;salta&quot; a la posición en la que se detectó el toque / clic (consulte el evento de <b>arrastre a</b> continuación para ver una continuación de este ejemplo). </p></div><br><a name="gesture_dragging" id="gesture_dragging"></a> <label class=
"collapse" for="d">Arrastrando</label> <input id="d" type="checkbox"><div class="index_list"><p> El evento de <b>arrastre</b> se activa después del evento de <b>inicio de arrastre</b>, y se activará para cada paso que el usuario mantenga pulsado / haga clic en la instancia (o la pantalla, si es un evento global) y se mueve más que el umbral de arrastre definido. Esta distancia es de 0,1 pulgadas de forma predeterminada, pero se puede configurar utilizando la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_drag_distance.html"><tt>gesture_drag_distance</tt></a>. Si no hay movimiento o el movimiento está por debajo del umbral definido, el evento no se activará. Este evento generará un <tt>event_data</tt> Mapa de DS que puede utilizar para obtener información sobre el evento. Por ejemplo: </p><h3> Crear evento </h3><p class="code">drag_offsetX = 0;<br>
drag_offsetY = 0;<br><span class="notranslate"></span></p><h3> Evento de inicio de arrastre </h3><p class="code">drag_offsetX = x - event_data[?"posX"];<br>
drag_offsetY = y - event_data[?"posY"];<br><span class="notranslate"></span></p><h3> Evento de arrastre </h3><p class="code">x = event_data[?"posX"] + drag_offsetX;<br>
y = event_data[?"posY"] + drag_offsetY;<br><span class="notranslate"></span></p><p><br> El código de ejemplo anterior utiliza las variables de desplazamiento establecidas en el evento de <b>inicio de arrastre</b> para mover la instancia cuando se activa el evento de <b>arrastre</b>. </p></div><br><a name="gesture_drag_end" id="gesture_drag_end"></a> <label class=
"collapse" for="e">Arrastrar fin</label> <input id="e" type="checkbox"><div class="index_list"><p> El evento <b>Drag End</b> se activa cuando el usuario suelta el toque / clic en la instancia (o la pantalla si el evento es global). Este evento generará un <tt>event_data</tt> Mapa de DS que puede usar para obtener información sobre el evento, pero en este caso el mapa tendrá una clave adicional: &quot; <tt>isflick</tt> &quot;. El desplazamiento se calcula como la <i>distancia por segundo sobre la</i> que se ha producido el arrastre y el valor para el&quot; <tt>isflick</tt> &quot;la clave será <tt>true</tt> si es mayor que la distancia definida por segundo valor, o <tt>false</tt> de otra manera. Tenga en cuenta que el valor predeterminado es 2 pulgadas por segundo, pero puede establecerlo en otro valor utilizando la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_flick_speed.html"><tt>gesture_flick_speed</tt></a>. También tenga en cuenta que hay un evento <b>Flick</b> dedicado que también se activará si el &quot; <tt>isflick</tt> &quot;variable es <tt>true</tt>. Un ejemplo de uso sería: </p><h3> Crear evento </h3><p class="code">flickVelX = 0.0;<br>
flickVelY = 0.0;<br><span class="notranslate"></span></p><h3> Evento final de arrastre </h3><p class="code">isFlick = event_data[?"isflick"];<br>
if (isFlick)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;flickVelX = event_data[?"diffX"];<br>
&nbsp;&nbsp;&nbsp;&nbsp;flickVelY = event_data[?"diffY"];<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
else<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;flickVelX = 0;<br>
&nbsp;&nbsp;&nbsp;&nbsp;flickVelY = 0;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><h3> Evento paso </h3><p class="code">x += flickVelX;<br>
y += flickVelY;<br>
flickVelX *= 0.7;<br>
flickVelY *= 0.7;<br><span class="notranslate"></span></p><p><br> El código anterior simplemente obtiene la diferencia en las posiciones x e y del último evento de <b>arrastre</b> y el evento de <b>final de arrastre</b> actual, y si el movimiento ha sido mayor que el umbral de movimiento, establece algunas variables que se utilizan para mover la instancia en el paso de evento. </p></div><br><a name="gesture_flick" id="gesture_flick"></a> <label class=
"collapse" for="f">Película</label> <input id="f" type="checkbox"><div class="index_list"><p> El evento <b>Flick</b> solo se activa cuando se toca, presiona y presiona un clic / clic y luego se libera, y la distancia entre la última posición de arrastre y la posición de liberación es superior a 2 pulgadas por segundo (esta es la configuración predeterminada, aunque se puede cambiar usando la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_flick_speed.html"><tt>gesture_flick_speed</tt></a> ). Este evento generará un <tt>event_data</tt> Mapa de DS que puede utilizar para obtener información sobre el evento. Por ejemplo: </p><h3> Crear evento </h3><p class="code">flickVelX = 0.0;<br>
flickVelY = 0.0;<br><span class="notranslate"></span></p><h3> Evento de película </h3><p class="code">flickVelX = event_data[?"diffX"];<br>
flickVelY = event_data[?"diffY"];<br><span class="notranslate"></span></p><h3> Evento paso </h3><p class="code">x += flickVelX;<br>
y += flickVelY;<br>
flickVelX *= 0.7;<br>
flickVelY *= 0.7;<br><span class="notranslate"></span></p><p><br> El código anterior simplemente se pone la diferencia en la posición x e y del último evento de <b>arrastrar</b> y caso <b>Flick</b> actual, y si el movimiento ha sido mayor que el umbral de película, que establece algunas variables que son el uso de la jugada la instancia en el paso evento. </p></div></blockquote></div><br><a name="Gesture_Event_Pinch" id="Gesture_Event_Pinch"></a><div style="float:left"><img style=
"vertical-align:middle;padding-top:6px;padding-left:10px;" src=
"images/icon_pinch.png"></div> <label class="collapse" for="two">Eventos de pellizco</label> <input id=
"two" type="checkbox"><div class="index_list"><p> Los eventos &quot;Pinch&quot; se basan en dos toques para que la pantalla del dispositivo se reconozca a la vez, donde uno (o ambos) se han movido más de una cierta distancia. El ángulo de movimiento de los toques junto con el movimiento de cada toque es lo que determinará la detección de un evento Pinch o Rotate, donde (en el caso del tipo de <b>evento Pinch</b> ): </p><ul><li> Si uno de los toques no se mueve, el otro debe moverse <i>hacia</i> él o <i>alejarse</i> de él dentro de un ángulo de umbral (que se puede configurar mediante las funciones). <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_pinch_angle_towards.html"><tt>gesture_pinch_angle_towards()</tt></a> y <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_pinch_angle_away.html"><tt>- gesture_pinch_angle_away()</tt></a> ). </li><li> Si ambos toques se mueven, sus velocidades deben ser en direcciones aproximadamente opuestas y también se realiza la misma verificación del umbral angular para garantizar que los toques se muevan en una alineación aproximada. </li></ul><p> Cuando se detectan dos toques y un movimiento con los criterios anteriores, se activará un evento de pellizco y, en cada uno de los eventos, <tt>event_data</tt> El mapa de DS se rellenará con las siguientes claves: </p><div class="compat"><table><tr><th> Llave </th><th> Descripción del valor </th></tr><tr><td> <span class="notranslate">&quot;gesture&quot;</span> </td> <td><br> Este es un valor de ID que es <i>único</i> para el gesto que está en juego. Esto le permite vincular las diferentes partes de los gestos de varias partes (como el inicio del arrastre, el arrastre y el final del arrastre) entre sí. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;touch1&quot;</span> </td> <td><br> Este es el índice del primer toque que se está utilizando como parte del gesto de pellizco. En general, será 0, pero si el usuario toca la pantalla en otro lugar cuando este evento se activa con otro toque, el valor será mayor que 0. <br><br></td></tr><tr><td> <span class="notranslate">&quot;touch2&quot;</span> </td> <td><br> Este es el índice del segundo toque que se está utilizando como parte del gesto de pellizco. En general, será 1 más que el valor para touch1, pero puede haber algún otro valor dependiendo de la cantidad de toques detectados en otros lugares. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;posX1&quot;</span> </td> <td><br> Esta es la posición X del espacio de la habitación del primer toque. <br><br></td></tr><tr><td> <span class="notranslate">&quot;posY1&quot;</span> </td> <td><br> Esta es la posición Y de espacio de sala del primer toque. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;rawposX1&quot;</span> </td> <td><br> Esta es la posición X del espacio de la ventana sin <i>procesar</i> del primer toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_raw_x.html"><tt>device_mouse_raw_x()</tt></a> ). <br><br></td></tr><tr><td> <span class="notranslate">&quot;rawposY1&quot;</span> </td> <td><br> Esta es la posición Y del espacio de la ventana sin <i>procesar</i> del primer toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_raw_y.html"><tt>device_mouse_raw_y()</tt></a> ). <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;guiposX1&quot;</span> </td> <td><br> Esta es la posición de gui-espacio X del primer toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_x_to_gui.html"><tt>device_mouse_x_to_gui()</tt></a> ). <br><br></td></tr><tr><td> <span class="notranslate">&quot;guiposY1&quot;</span> </td> <td><br> Esta es la posición Y de gui-espacio del segundo toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_y_to_gui.html"><tt>device_mouse_y_to_gui()</tt></a> ). <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;posX2&quot;</span> </td> <td><br> Esta es la posición X del espacio de la habitación del segundo toque. <br><br></td></tr><tr><td> <span class="notranslate">&quot;posY2&quot;</span> </td> <td><br> Esta es la posición Y de espacio de habitación del segundo toque. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;rawposX2&quot;</span> </td> <td><br> Esta es la posición X del espacio de la ventana sin <i>procesar</i> del primer toque. <br><br></td></tr><tr><td> <span class="notranslate">&quot;rawposY2&quot;</span> </td> <td><br> Esta es la posición Y de espacio de ventana sin <i>procesar</i> del segundo toque. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;guiposX2&quot;</span> </td> <td><br> Esta es la posición de gui-espacio X del segundo toque. <br><br></td></tr><tr><td> <span class="notranslate">&quot;guiposY2&quot;</span> </td> <td><br> Esta es la posición Y gui-espacio del segundo toque. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;midpointX&quot;</span> </td> <td><br> La posición X del punto medio entre los dos toques en el espacio de la habitación. <br><br></td></tr><tr><td> <span class="notranslate">&quot;midpointY&quot;</span> </td> <td><br> La posición Y del punto medio entre los dos toques en el espacio de la habitación. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;rawmidpointX&quot;</span> </td> <td><br> Esta es la posición X del espacio de la ventana sin procesar del punto medio. <br><br></td></tr><tr><td> <span class="notranslate">&quot;rawmidpointY&quot;</span> </td> <td><br> Esta es la posición Y de espacio de ventana sin procesar del punto medio. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;guimidpointX&quot;</span> </td> <td><br> Esta es la posición de gui-espacio X del punto medio. <br><br></td></tr><tr><td> <span class="notranslate">&quot;guimidpointY&quot;</span> </td> <td><br> Esta es la posición Y gui-espacio del punto medio. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;relativescale&quot;</span> </td> <td><br> Esta es la diferencia de escala en comparación con el último evento en este gesto (por lo que para los eventos <b>Pinch In</b> siempre será menor que 1.0, mientras que para los eventos <b>Pinch Out</b> siempre será mayor que 1.0) <br><br></td></tr><tr><td> <span class="notranslate">&quot;absolutescale&quot;</span> </td> <td><br> Esta es la escala en comparación con donde estaban los dedos cuando comenzó el gesto (por lo tanto, si la distancia entre los dedos se ha reducido a la mitad, entonces será 0.5, mientras que si la distancia se ha duplicado, será 2.0). <br><br></td></tr></table></div><blockquote><a name="gesture_pinch_start" id=
"gesture_pinch_start"></a> <label class="collapse" for="g">Pinch Start</label> <input id="g" type="checkbox"><div class="index_list"><p> El evento <b>Pinch Start</b> se activará cuando una instancia (o la pantalla si el evento es global) ha sido tocada por dos &quot;dedos&quot; (y se mantiene el toque) y luego se mueve uno o ambos &quot;dedos&quot;. Si los toques se alejan entre sí o se acercan entre sí más que la distancia de verificación mínima (que es de 0,1 pulgadas de forma predeterminada, pero se puede configurar mediante la función) <a href="../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_pinch_distance.html"><tt>gesture_pinch_distance</tt></a> ), y el ángulo entre ellos está dentro del valor definido (este valor predeterminado es 45 ° pero se puede configurar usando <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_pinch_angle_towards.html"><tt>gesture_pinch_angle_towards()</tt></a> y <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_pinch_angle_away.html"><tt>- gesture_pinch_angle_away()</tt></a> ), entonces se activará un evento <b>Pinch Start</b>. En este caso, puede establecer variables o almacenar la fecha de posición para uso futuro. Por ejemplo: </p><h3> Evento de inicio de pellizco </h3><p class="code">pinching = true;<br>
pinch_x = event_data[? "midpointX"]; pinch_y = event_data[?
"midpointY"];<span class="notranslate"></span></p><p><br> El código anterior detectará un pinchazo y almacenará la posición del punto medio para ese pinch. </p></div><br><a name="gesture_pinch_in_out" id="gesture_pinch_in_out"></a> <label class="collapse" for="h">Pinch In / Pinch Out</label> <input id="h" type="checkbox"><div class="index_list"><p> Los eventos <b>Pinch In</b> y <b>Pinch Out</b> se activarán en cada paso en el que la distancia entre los dos toques que forman el pinch cambia sobre el umbral mínimo (establecido en +/- 0.1 pulgadas de forma predeterminada, pero puede cambiarlo usando la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_pinch_distance.html"><tt>gesture_pinch_distance</tt></a> ). Si no hay movimiento de los toques de pellizco, estos eventos no se activarán. Estos eventos generarán un <tt>event_data</tt> Mapa de DS que puede utilizar para obtener información sobre el evento. Por ejemplo: </p><h3> Evento Global Pinch In / Pinch Out </h3><p class="code">var _scale = event_data[? "relativescale"];<br>
var _w = camera_get_view_width(view_camera[0]);<br>
var _h = camera_get_view_height(view_camera[0]);<br>
var _x = camera_get_view_x(view_camera[0]) + (_w / 2);<br>
var _y = camera_get_view_y(view_camera[0]) + (_h / 2);<br>
<br>
_w *= _scale;<br>
_h = _w * (room_height / room_width);<br>
_x -= _w / 2;<br>
_y -= _h / 2;<br>
<br>
camera_set_view_pos(view_camera[0], _x, _y);<br>
camera_set_view_size(view_camera[0], _w, _h);<br><span class="notranslate"></span></p><p><br> El código anterior escalará la vista según la escala relativa de los toques de pellizco. </p></div><br><a name="gesture_pinch_end" id="gesture_pinch_end"></a> <label class="collapse" for="i">Pinch End</label> <input id="i"
type="checkbox"><div class="index_list"><p> El evento <b>Pinch End</b> se activará cuando el usuario suelte uno (o ambos) de los toques del dispositivo. Estos eventos generarán un <tt>event_data</tt> Mapa de DS que puede utilizar para obtener información sobre el evento. Por ejemplo: </p><h3> Evento final de pellizco </h3><p class="code">var _pinchx = event_data[? "midpointX"]; var
_pinchy = event_data[? "midpointY"]; var _w =
camera_get_view_width(view_camera[0]);<br>
var _h = camera_get_view_height(view_camera[0]);<br>
var _x = _pinchx - (_w / 2);<br>
var _y = _pinchy - (_h / 2);<br>
<br>
camera_set_view_pos(view_camera[0], _x, _y);<br><span class="notranslate"></span></p><p><br> El código anterior establecerá la posición de la vista para centrarse en el punto medio de los dos toques que formaron el pinch cuando se sueltan los toques. </p></div><br></blockquote></div><br><a name="Gesture_Event_Rotate" id="Gesture_Event_Rotate"></a><div style="float:left"><img style=
"vertical-align:middle;padding-top:6px;padding-left:10px;" src=
"images/icon_rotate.png"></div> <label class="collapse" for="three">Rotar eventos</label> <input id="three" type="checkbox"><div class="index_list"><p> Los eventos &quot;Rotar&quot; se basan en dos toques para que la pantalla de los dispositivos se reconozca a la vez, y donde haya habido una rotación angular constante entre los dos dentro de un tiempo específico. El ángulo de movimiento de los toques junto con el movimiento de cada toque es lo que determinará la detección de un evento Pinch o Rotate, donde (en el caso del tipo <b>Rotate Event</b> ): </p><ul><li> Se deben mantener presionados dos toques durante un tiempo mínimo especificado (el tiempo predeterminado es 0.16 segundos, pero puede cambiarlo usando la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_rotate_time.html"><tt>gesture_rotate_time()</tt></a> ). </li><li> Dentro de este período de tiempo mínimo, deben girar en una dirección consistente (si la dirección de rotación cambia dentro de ese tiempo, entonces no se inicia ninguna rotación). </li><li> La cantidad de rotación debe exceder el ángulo de umbral mínimo (que se establece en 5 ° de forma predeterminada, pero esto se puede cambiar usando la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_rotate_angle.html"><tt>gesture_rotate_angle()</tt></a> ). </li></ul><p> Cuando se detectan dos toques y un movimiento con los criterios anteriores, se activará un evento de rotación, y en cada uno de los eventos <tt>event_data</tt> El mapa de DS se rellenará con las siguientes claves: </p><div class="compat"><table><tr><th> Llave </th><th> Descripción del valor </th></tr><tr><td> <span class="notranslate">&quot;gesture&quot;</span> </td> <td><br> Este es un valor de ID que es <i>único</i> para el gesto que está en juego. Esto le permite vincular las diferentes partes de los gestos de varias partes (como el inicio del arrastre, el arrastre y el final del arrastre) entre sí. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;touch1&quot;</span> </td> <td><br> Este es el índice del primer toque que se está utilizando como parte del gesto de pellizco. En general, será 0, pero si el usuario toca la pantalla en otro lugar cuando este evento se activa con otro toque, el valor será mayor que 0. <br><br></td></tr><tr><td> <span class="notranslate">&quot;touch2&quot;</span> </td> <td><br> Este es el índice del segundo toque que se está utilizando como parte del gesto de pellizco. En general, será 1 más que el valor para touch1, pero puede haber algún otro valor dependiendo de la cantidad de toques detectados en otros lugares. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;posX1&quot;</span> </td> <td><br> Esta es la posición X del espacio de la habitación del primer toque. <br><br></td></tr><tr><td> <span class="notranslate">&quot;posY1&quot;</span> </td> <td><br> Esta es la posición Y de espacio de sala del primer toque. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;rawposX1&quot;</span> </td> <td><br> Esta es la posición X del espacio de la ventana sin <i>procesar</i> del primer toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_raw_x.html"><tt>device_mouse_raw_x()</tt></a> ). <br><br></td></tr><tr><td> <span class="notranslate">&quot;rawposY1&quot;</span> </td> <td><br> Esta es la posición Y del espacio de la ventana sin <i>procesar</i> del primer toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_raw_y.html"><tt>device_mouse_raw_y()</tt></a> ). <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;guiposX1&quot;</span> </td> <td><br> Esta es la posición de gui-espacio X del primer toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_x_to_gui.html"><tt>device_mouse_x_to_gui()</tt></a> ). <br><br></td></tr><tr><td> <span class="notranslate">&quot;guiposY1&quot;</span> </td> <td><br> Esta es la posición Y de gui-espacio del segundo toque (equivalente a obtener la posición del mouse usando <a href=
"../../../3_scripting/4_gml_reference/controls/device%20input/device_mouse_y_to_gui.html"><tt>device_mouse_y_to_gui()</tt></a> ). <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;posX2&quot;</span> </td> <td><br> Esta es la posición X del espacio de la habitación del segundo toque. <br><br></td></tr><tr><td> <span class="notranslate">&quot;posY2&quot;</span> </td> <td><br> Esta es la posición Y de espacio de habitación del segundo toque. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;rawposX2&quot;</span> </td> <td><br> Esta es la posición X del espacio de la ventana sin <i>procesar</i> del primer toque. <br><br></td></tr><tr><td> <span class="notranslate">&quot;rawposY2&quot;</span> </td> <td><br> Esta es la posición Y de espacio de ventana sin <i>procesar</i> del segundo toque. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;guiposX2&quot;</span> </td> <td><br> Esta es la posición de gui-espacio X del segundo toque. <br><br></td></tr><tr><td> <span class="notranslate">&quot;guiposY2&quot;</span> </td> <td><br> Esta es la posición Y gui-espacio del segundo toque. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;pivotX&quot;</span> </td> <td><br> La posición X del punto de giro de rotación en el espacio de la habitación. <br><br></td></tr><tr><td> <span class="notranslate">&quot;pivotY&quot;</span> </td> <td><br> La posición Y del punto de giro de rotación en el espacio de la habitación. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;rawpivotX&quot;</span> </td> <td><br> Esta es la posición X de espacio de ventana sin procesar del punto de giro rotativo. <br><br></td></tr><tr><td> <span class="notranslate">&quot;rawpivotY&quot;</span> </td> <td><br> Esta es la posición Y de espacio de ventana sin procesar del punto de giro rotativo. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;guipivotX&quot;</span> </td> <td><br> Esta es la posición de gui-espacio del punto de giro rotacional. <br><br></td></tr><tr><td> <span class="notranslate">&quot;guipivotY&quot;</span> </td> <td><br> Esta es la posición Y gui-espacio del punto de giro rotacional. <br><br></td></tr><tr class="alt"><td> <span class="notranslate">&quot;relativeangle&quot;</span> </td> <td><br> <b>Esta es la diferencia en la rotación en comparación con el último evento en este gesto, medido en grados <br><br></b> </td></tr><tr><td> <span class="notranslate">&quot;absoluteangle&quot;</span> </td> <td><br> Esta es la diferencia de ángulo en comparación con donde estaban los dedos cuando comenzó el gesto, medido en grados. Entonces, por ejemplo, si los dedos han girado un cuarto de círculo desde el inicio del gesto, este valor será de 90 ° o -90 °, dependiendo de la dirección de rotación. <br><br></td></tr></table></div><blockquote><a name="gesture_rotate_start" id=
"gesture_rotate_start"></a> <label class="collapse" for="j">Girar Inicio</label> <input id="j" type="checkbox"><div class="index_list"><p> El evento <b>Rotate Start</b> se activará cuando una instancia (o la pantalla si el evento es global) ha sido tocada por dos &quot;dedos&quot; (y se mantiene el toque) y luego uno o ambos &quot;dedos&quot; se giran desde su inicio posición. La rotación de los toques debe comenzar dentro de un corto período de tiempo (0,16 segundos de forma predeterminada, pero se puede configurar mediante la función) <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_rotate_time.html"><tt>gesture_rotate_time()</tt></a> ) y ser mayor que el umbral angular mínimo (por defecto 5 °, pero esto puede cambiarse usando la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_rotate_angle.html"><tt>gesture_rotate_angle()</tt></a> ). Si estas comprobaciones son verdaderas, se activará un evento de <b>inicio de rotación</b> y puede usarlo para almacenar valores o establecer variables para usar con el resto de los eventos de rotación. Por ejemplo: </p><h3> Crear evento </h3><p class="code">rotating = false;<br>
view_a = camera_get_view_angle(view_camera[0]);<br><span class="notranslate"></span></p><h3> Evento de inicio de rotación </h3><p class="code">rotating = true;<br><span class="notranslate"></span></p><p><br> El código anterior simplemente configura algunas variables para rotar la cámara de visualización, y luego, en el evento Rotate Start, establece una de ellas para <tt>true</tt>. </p></div><br><a name="gesture_rotating" id="gesture_rotating"></a> <label class=
"collapse" for="k">Giratorio</label> <input id="k" type="checkbox"><div class="index_list"><p> El evento de <b>Rotación</b> se activará en cada paso que los toques en la pantalla giren entre sí, siempre que el movimiento sea mayor que el umbral angular mínimo (por defecto, 5 °, pero esto se puede cambiar usando la función <a href=
"../../../3_scripting/4_gml_reference/controls/gesture%20input/gesture_rotate_angle.html"><tt>gesture_rotate_angle()</tt></a> ). Este evento se puede usar para establecer variables y manipular instancias, por ejemplo: </p><h3> Evento rotativo </h3><p class="code">var _relangle = event_data[?"relativeangle"];<br>
var _a = camera_get_view_angle(view_camera[0]);<br>
_a += _relangle;<br>
camera_set_view_angle(view_camera[0], _a);<br><span class="notranslate"></span></p><p><br> El código anterior gira la vista de la cámara en función del movimiento de rotación de los toques en el evento. </p></div><br><a name="gesture_rotate_end" id="gesture_rotate_end"></a> <label class="collapse" for="l">Rotar Fin</label> <input id="l"
type="checkbox"><div class="index_list"><p> El evento <b>Rotate End</b> se activará cuando uno (o ambos) toques que comprenden el gesto se liberen desde la pantalla del dispositivo. Este evento se puede usar para establecer variables y manipular instancias, por ejemplo: </p><h3> Evento final de rotación </h3><p class="code">rotating = false;<br><span class="notranslate"></span></p><h3> Evento paso </h3><p class="code">if !rotating<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;var _a =
camera_get_view_angle(view_camera[0]);<br>
&nbsp;&nbsp;&nbsp;&nbsp;var _adif = angle_difference(view_a,
_a);<br>
&nbsp;&nbsp;&nbsp;&nbsp;_a += median(-5, _adif, 5);<br>
&nbsp;&nbsp;&nbsp;&nbsp;camera_set_view_angle(view_camera[0],
_a);<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br><span class="notranslate"></span></p><p><br> El código anterior utiliza el evento Rotate End para detectar cuándo el usuario detiene el gesto y luego establece una variable. Esta variable se usa luego en el evento de pasos para girar la cámara de visualización de nuevo a su posición original. </p></div><br></blockquote></div><br></blockquote><p><br></p></div><div class="footer"><div class="buttons"><div class="clear"><div style="float:left"> Atrás: <a href="../objects.html">El editor de objetos</a> </div><div style="float:right"> Siguiente: <a href="async_events.html">Async Events</a> </div></div></div><h5>© Copyright YoYo Games Ltd. 2018 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
